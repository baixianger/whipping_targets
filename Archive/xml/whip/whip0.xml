<mujoco model="whip">
  <compiler angle="radian" autolimits="true"/>

  <option integrator="implicit" impratio="10"/> <!-- 椭圆摩擦锥的摩擦-法向约束阻抗比率, 大于1的设置会使摩擦力比法向力“更硬”, 从而防止滑动, 但不会增加实际摩擦系数.  -->

  <default>
    <default class="whip">
      <default class="X">
        <joint type="hinge" axis="1 0 0" pos="0 0 0" springref="0" stiffness="0.242" damping="0.092" /> 
      </default>
      <default class="Y">
        <joint type="hinge" axis="0 1 0" pos="0 0 0" springref="0" stiffness="0.242" damping="0.092" /> 
      </default>
      <default class="sphere">
        <geom type="sphere" material="white" pos="0 0 0.036" size="0.006" mass="0.012" />
      </default>
      <default class="cylinder">
        <geom type="cylinder" material="white" fromto="0 0 0 0 0 0.036" size="0.006" mass="0" />
      </default>
    </default>    
  </default>

  <asset>
    <material class="whip" name="white" rgba="1 1 1 1"/>
  </asset>

  <worldbody>
    <body name="whip" childclass="whip">
      <geom type="sphere" size="0.045" material="white"/>
      <body name="N00" pos="0 0 0.045">
        <joint class="X"/>
        <joint class="Y"/>
        <geom  class="cylinder" />
        <geom  class="sphere"/>
        <body name="N01" pos="0 0 0.036">
          <joint class="X"/>
          <joint class="Y"/>
          <geom  class="cylinder" />
          <geom  class="sphere"/>
          <body name="N02" pos="0 0 0.036">
            <joint class="X"/>
            <joint class="Y"/>
            <geom  class="cylinder" />
            <geom  class="sphere"/>
            <body name="N03" pos="0 0 0.036">
              <joint class="X"/>
              <joint class="Y"/>
              <geom  class="cylinder" />
              <geom  class="sphere"/>
              <body name="N04" pos="0 0 0.036">
                <joint class="X"/>
                <joint class="Y"/>
                <geom  class="cylinder" />
                <geom  class="sphere"/>
                <body name="N05" pos="0 0 0.036">
                  <joint class="X"/>
                  <joint class="Y"/>
                  <geom  class="cylinder" />
                  <geom  class="sphere"/>
                  <body name="N06" pos="0 0 0.036">
                    <joint class="X"/>
                    <joint class="Y"/>
                    <geom  class="cylinder" />
                    <geom  class="sphere"/>
                    <body name="N07" pos="0 0 0.036">
                      <joint class="X"/>
                      <joint class="Y"/>
                      <geom  class="cylinder" />
                      <geom  class="sphere"/>
                      <body name="N08" pos="0 0 0.036">
                        <joint class="X"/>
                        <joint class="Y"/>
                        <geom  class="cylinder" />
                        <geom  class="sphere"/>
                        <body name="N09" pos="0 0 0.036">
                          <joint class="X"/>
                          <joint class="Y"/>
                          <geom  class="cylinder" />
                          <geom  class="sphere"/>
                          <body name="N10" pos="0 0 0.036">
                            <joint class="X"/>
                            <joint class="Y"/>
                            <geom  class="cylinder" />
                            <geom  class="sphere"/>
                            <body name="N11" pos="0 0 0.036">
                              <joint class="X"/>
                              <joint class="Y"/>
                              <geom  class="cylinder" />
                              <geom  class="sphere"/>
                              <body name="N12" pos="0 0 0.036">
                                <joint class="X"/>
                                <joint class="Y"/>
                                <geom  class="cylinder" />
                                <geom  class="sphere"/>
                                <body name="N13" pos="0 0 0.036">
                                  <joint class="X"/>
                                  <joint class="Y"/>
                                  <geom  class="cylinder" />
                                  <geom  class="sphere"/>
                                  <body name="N14" pos="0 0 0.036">
                                    <joint class="X"/>
                                    <joint class="Y"/>
                                    <geom  class="cylinder" />
                                    <geom  class="sphere"/>
                                    <body name="N15" pos="0 0 0.036">
                                      <joint class="X"/>
                                      <joint class="Y"/>
                                      <geom  class="cylinder" />
                                      <geom  class="sphere"/>
                                      <body name="N16" pos="0 0 0.036">
                                        <joint class="X"/>
                                        <joint class="Y"/>
                                        <geom  class="cylinder" />
                                        <geom  class="sphere"/>
                                        <body name="N17" pos="0 0 0.036">
                                          <joint class="X"/>
                                          <joint class="Y"/>
                                          <geom  class="cylinder" />
                                          <geom  class="sphere"/>
                                          <body name="N18" pos="0 0 0.036">
                                            <joint class="X"/>
                                            <joint class="Y"/>
                                            <geom  class="cylinder" />
                                            <geom  class="sphere"/>
                                            <body name="N19" pos="0 0 0.036">
                                              <joint class="X"/>
                                              <joint class="Y"/>
                                              <geom  class="cylinder" />
                                              <geom  class="sphere"/>
                                              <body name="N20" pos="0 0 0.036">
                                                <joint class="X"/>
                                                <joint class="Y"/>
                                                <geom  class="cylinder" />
                                                <geom  class="sphere"/>
                                                <body name="N21" pos="0 0 0.036">
                                                  <joint class="X"/>
                                                  <joint class="Y"/>
                                                  <geom  class="cylinder" />
                                                  <geom  class="sphere"/>
                                                  <body name="N22" pos="0 0 0.036">
                                                    <joint class="X"/>
                                                    <joint class="Y"/>
                                                    <geom  class="cylinder" />
                                                    <geom  class="sphere"/>
                                                    <body name="N23" pos="0 0 0.036">
                                                      <joint class="X"/>
                                                      <joint class="Y"/>
                                                      <geom  class="cylinder" />
                                                      <geom  class="sphere"/>
                                                      <body name="N24" pos="0 0 0.036">
                                                        <joint class="X"/>
                                                        <joint class="Y"/>
                                                        <geom  class="cylinder" />
                                                        <geom  class="sphere"/>
                                                        <body name="N25" pos="0 0 0.036">
                                                          <joint class="X"/>
                                                          <joint class="Y"/>
                                                          <geom  class="cylinder" />
                                                          <geom  class="sphere"/>                       
                                                          <body name="N26" pos="0 0 0.036">
                                                            <joint class="X"/>
                                                            <joint class="Y"/>
                                                            <geom  class="cylinder" />
                                                            <geom  class="sphere"/>
                                                            <site name="whip_end" pos="0 0 0.036"/> 
                                                          </body>
                                                        </body>
                                                      </body>
                                                    </body>
                                                  </body>
                                                </body>
                                              </body>
                                            </body>
                                          </body>
                                        </body>
                                      </body>
                                    </body>
                                  </body>
                                </body>
                              </body>
                            </body>
                          </body>
                        </body>
                      </body>
                    </body>
                  </body>
                </body>
              </body>
            </body>
          </body>
        </body>
      </body>
    </body>                
  </worldbody>
</mujoco>
